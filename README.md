# QOEBale کیفیت سنجی پیامرسان بله
پروژه گروه ما در ابتدا پروژه کیفیت سنجی پیامرسان شاد بود، اما با توجه به اینکه پیامرسان شاد API جهت ارسال پیام و ... نداشت با هماهنگی با استاد امکان سنجی پیامرسان بله انجام شد.
<br />
اعضای گروه:  <br />
امیرحسین درخشان - 98521171 <br />
امیرحسین ایزدی - 98521055 <br />

## مقدمه
جهت انجام این پروژه تعدادی معیار درنظر گرفته شده است و به دنبال اندازه گیری این معیارها هستیم، این معیارها عبارتند از سرعت ارسال پیام، سرعت ارسال تصویر، سرعت ارسال فیلم،
سرعت ارسال فایل، سرعت ارسال فایل صوتی، 
سرعت دریافت اطلاعات ادمین یک کانال و سرعت دریافت اطلاعات یک فایل میباشد.این معیار ها با استفاده از API هایی که پیامرسان بله در اختیار توسعه دهندگان قرار میدهد، محاسبه شده اند.
### محاسبه سرعت ارسال پیام
برای این کار با استفاده از API پیامرسان بله جهت ارسال پیام در یک کانال 10 بار پیام salam به کانالی که جهت کیفیت سنجی ساخته ایم ارسال شده است
و زمان ارسال این پیام ها با استفاده از  measureTimeMillis به دست آمده است.با توجه به اینکه این پیام 5 بایتی میباشد پس در کل 50 بایت داده ارسال شده است و با تقسیم 50 بر زمان ارسال 
ریکوئست سرعت ارسال پیام برحسب بایت بر ثانیه به دست می آید.
یکی از نکات مهم در این بخش ایجاد یک ارتباط Http جهت ارسال ریکوئست بود که این مورد با استفاده از کتابخانه io.ktor.client انجام شده است. جهت مشاهده جزییات کد نوشته شده حتما فایل BaleApiClient.kt را مشاهده کنید.
### محاسبه سرعت ارسال تصویر، فیلم، فایل، فایل صوتی
در تمام این موارد نیاز به ارسال لینک فایل از طریق formdata بود که این مورد نیز با استفاده از کتابخانه مرحله قبل انجام شده است اما از آنجا که ارسال از طریق formdata با ارسال از طریق json متفاوت
میباشد ساخت client کمی متفاوت بوده است. به هر حال جهت اندازه گیری معیار ها اندازه فایل ها را به دست آورده ایم و با تقسیم ان ها بر زمان سپری شده جهت دریافت response به سرعت برحسب بایت بر ثانیه دست یافته ایم.
### دریافت اطلاعات از سرور
با توجه به اینکه در مراحل قبل تماما سرعت آپلود اندازه گیری شده بود در این مرحله نیاز دیدیم تا با استفاده  از API های موجود سرعت دانلود از بله را نیز اندازه گیری کنیم، لازم به ذکر است که پیامرسان بله API جهت
دریافت فایل از سرور ارائه نمیدهد اما تعدادی API جهت دریافت اطلاعاتی در قالب JSON موجود میباشد بنابراین با استفاده از این API ها و به دست آوردن اندازه داده دریافتی و زمان لازم برای دریافت داده به سرعت دانلود 
برحسب بایت بر ثانیه نیز دست پیدا کردیم.
### نمونه اجرای برنامه
با کلیک بر دکمه startqoe برنامه شروع به اندازه گیری پارامترها میکند
![image](https://github.com/ahderakhshan/QOEBale/assets/56085287/3947e4be-fc9d-41a3-b90f-f987d53d2d1d)
بعد از کلیک کردن روی دکمه پیغامی مبنی بر شروع اندازه گیری به کاربر نمایش داده میشود
![image](https://github.com/ahderakhshan/QOEBale/assets/56085287/09ffd79a-e22a-4c17-ba20-ee83864de4e9)
در نهایت پارامتر ها به کاربر نمایش داده میشوند
![image](https://github.com/ahderakhshan/QOEBale/assets/56085287/b0de6d25-0e8a-40e4-8819-d8872f54a53f)



